<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Users Guide &mdash; Cloudmesh Teefaa 0.4.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.4.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Cloudmesh Teefaa 0.4.0 documentation" href="index.html" />
    <link rel="next" title="Developers Guide" href="devguide.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="devguide.html" title="Developers Guide"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Cloudmesh Teefaa 0.4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="users-guide">
<h1>Users Guide<a class="headerlink" href="#users-guide" title="Permalink to this headline">¶</a></h1>
<p>Teefaa is a tool to make a snapshot of a Operating System and provision it on another
Baremetal/Virtual Machine. It uses ISO/PXE Boot image in the provisioning
process. This is conducted in three major steps:</p>
<ol class="arabic simple">
<li>Make a Teefaa ISO/PXE boot image.</li>
<li>Make a snapshot of your system.</li>
<li>Provision your system snapshot on another machine.</li>
</ol>
<p>An easy way to try Teefaa is to use VirtualBox as Teefaa can make a snapshot of your system
and provision it on a VM of your VirtualBox. We walk you through the process next.</p>
<div class="section" id="make-a-teefaa-iso-pxe-boot-image">
<h2>Make a Teefaa ISO/PXE boot image<a class="headerlink" href="#make-a-teefaa-iso-pxe-boot-image" title="Permalink to this headline">¶</a></h2>
<p>The ISO image of Teefaa is based on Debian7. However, you can create the image with Ubuntu or Debian also.
In this example we use an Ubuntu VM with Vagrant. The Vagrantfile is listed next:</p>
<div class="highlight-python"><pre>Vagrant.configure("2") do |config|

  config.vm.define :ubuntu1204 do |ubuntu1204|
    ubuntu1204.vm.box = 'ubuntu-12.04'
    ubuntu1204.vm.box_url = 'http://cloud-images.ubuntu.com/vagrant/precise/current/precise-server-cloudimg-amd64-vagrant-disk1.box'
    ubuntu1204.vm.hostname = "ubuntu1204"
  end

end</pre>
</div>
<p>Next, you can boot the VM as follows:</p>
<div class="highlight-python"><pre>vagrant up ubuntu1204
vagrant ssh-config ubuntu1204 &gt; ssh-config</pre>
</div>
<p>The ssh-config is used by Teefaa to login the VM.</p>
<p>Next, write the configuration for making ISO image and save the file named as Teefaafile.:</p>
<div class="highlight-python"><pre>ssh_config: ssh-config

iso_config:
  base_iso: debian-live-7.2-amd64-standard.iso
  base_iso_url: http://cdimage.debian.org/debian-cd/current-live/amd64/iso-hybrid/debian-live-7.2-amd64-standard.iso
  builder:
    hostname: ubuntu1204
    distro: ubuntu
  save_as: teefaa-debian-live.iso</pre>
</div>
<p>Then, execute this command.:</p>
<div class="highlight-python"><pre>teefaa make-iso</pre>
</div>
<p>This will generate the custom ISO image and save it as teefaa-debian-live.iso.</p>
</div>
<div class="section" id="make-a-snapshot-of-your-system">
<h2>Make a snapshot of your system<a class="headerlink" href="#make-a-snapshot-of-your-system" title="Permalink to this headline">¶</a></h2>
<p>To make a snapshot of your system, you need to update your ssh-config to be able to login
to the host by ssh &lt;hostname&gt;.:</p>
<div class="highlight-python"><pre>Host ubuntu1204
  HostName 127.0.0.1
  User vagrant
  Port 2222
  UserKnownHostsFile /dev/null
  StrictHostKeyChecking no
  PasswordAuthentication no
  IdentityFile /home/ktanaka/.vagrant.d/insecure_private_key
  IdentitiesOnly yes
  LogLevel FATAL
# Add the host to make a snapshot
Host host001
  HostName 192.168.32.102
  User myuser
  IdentityFile /path/to/private_key
  UserKnownHostsFile /dev/null
  StrictHostKeyChecking no</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Users Guide</a><ul>
<li><a class="reference internal" href="#make-a-teefaa-iso-pxe-boot-image">Make a Teefaa ISO/PXE boot image</a></li>
<li><a class="reference internal" href="#make-a-snapshot-of-your-system">Make a snapshot of your system</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="devguide.html"
                        title="next chapter">Developers Guide</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/usersguide.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="devguide.html" title="Developers Guide"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation"
             >previous</a> |</li>
        <li><a href="index.html">Cloudmesh Teefaa 0.4.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012-2014 Indiana University, developed by Koji Tanaka, Gregor von Laszewski, Fugang Wang, Javier Diaz, Allan Streib..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>